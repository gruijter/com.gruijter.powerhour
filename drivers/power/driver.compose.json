{
  "name": {
    "en": "Power Summarizer"
  },
  "class": "other",
  "capabilities": [],
  "images": {
    "large": "./drivers/power/assets/images/large.jpg",
    "small": "./drivers/power/assets/images/small.jpg"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      },
      "options": {
        "singular": true
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "type": "group",
      "label": {
        "en": "Homey source device information",
        "nl": "Homey bronapparaat informatie"
      },
      "children": [
        {
          "id": "homey_device_id",
          "type": "label",
          "label": {
            "en": "Device ID",
            "nl": "Apparaat ID"
          },
          "value": "unknown"
        },
        {
          "id": "homey_device_name",
          "type": "label",
          "label": {
            "en": "Device name",
            "nl": "Apparaat naam"
          },
          "value": "unknown"
        },
        {
          "id": "source_device_type",
          "type": "label",
          "label": {
            "en": "Source device type",
            "nl": "Type bron apparaat"
          },
          "value": "Homey device",
          "hint": {
            "en": "Either Homey device or Virtual device. The meter of a virtual device can only be updated via a flow.",
            "nl": "Homey apparaat of virtueel apparaat. De meter van een virtueel apparaat kan alleen worden geupdated via een flow."
          }
        },
        {
          "id": "use_measure_source",
          "type": "checkbox",
          "label": {
            "en": "Use Watt as source",
            "nl": "Gebruik Watt als bron"
          },
          "hint": {
            "en": "Some source devices do not have a kWh meter. Using W is a less accurate fallback method. ONLY USE THIS IF kWh IS NOT POSSIBLE!",
            "nl": "Sommige bron apparaten hebben geen kWh meter. Het gebruik van W is een minder nauwkeurig alternatief. ALLEEN GEBRUIKEN ALS kWh NIET MOGELIJK IS!"
          },
          "value": false
        },
        {
          "id": "homey_device_daily_reset",
          "type": "checkbox",
          "label": {
            "en": "Has daily reset",
            "nl": "Heeft dagelijkse reset"
          },
          "hint": {
            "en": "The meter of this source device resets every midnight to 0",
            "nl": "De meter van dit bron apparaat reset naar 0 om middernacht"
          },
          "value": false
        },
        {
          "id": "interval",
          "type": "number",
          "label": {
            "en": "Update interval (minutes)",
            "nl": "Update interval (minuten)"
          },
          "hint": {
            "en": "Set to 0 to get immediate updates. This can slightly increase system load. This setting is ignored for Watt and virtual source devices.",
            "nl": "Zet op 0 voor directe updates. Dit kan echter de systeem belasting iets verhogen. Deze instelling wordt niet gebruikt voor Watt en virtuele bron apparaten."
          },
          "value": 0,
          "min": 0,
          "max": 5,
          "step": 1
        }
      ]
    },
    {
      "type": "group",
      "label": {
        "en": "Meter readings",
        "nl": "Meter waarden"
      },
      "children": [
        {
          "id": "start_date",
          "type": "text",
          "label": {
            "en": "New year start date",
            "nl": "Start datum nieuw jaar"
          },
          "value": "0101",
          "hint": {
            "en": "On this date the month and year total will reset to 0. Format is ddmm. Default is 0101 (1 January). ATTENTION: If you change this date you need to manually correct the This Month Start and This Year Start values."
          }
        },
        {
          "id": "meter_latest",
          "type": "label",
          "label": {
            "en": "Present reading",
            "nl": "Huidige waarde"
          },
          "value": "0",
          "hint": {
            "en": "This is the meter reading from the soure device, updated once an hour."
          }
        },
        {
          "id": "meter_day_start",
          "type": "number",
          "label": {
            "en": "This day start",
            "nl": "Deze dag start"
          },
          "value": 0,
          "hint": {
            "en": "Enter the meter reading at the start of this day. It is automatically updated at midnight."
          }
        },
        {
          "id": "meter_month_start",
          "type": "number",
          "label": {
            "en": "This month start",
            "nl": "Deze maand start"
          },
          "value": 0,
          "hint": {
            "en": "Enter the meter reading at the start of this month. It is automatically updated first day of a new month."
          }
        },
        {
          "id": "meter_year_start",
          "type": "number",
          "label": {
            "en": "This year start",
            "nl": "Dit jaar start"
          },
          "value": 0,
          "hint": {
            "en": "Enter the meter reading at the start of this year. It is automatically updated first day of a new year."
            }
          },
        {
          "id": "min_max_reset",
          "type": "dropdown",
          "label": {
            "en": "Reset Min/Max values",
            "nl": "Reset Min/Max waarden"
          },
          "values": [
            {
              "id": "hour",
              "label": { 
                "en": "Hour",
                "nl": "Uur" }
            },
            {
              "id": "day",
              "label": { 
                "en": "Day",
                "nl": "Dag" }
            },
            {
              "id": "month",
              "label": { 
                "en": "Month",
                "nl": "Maand" }
            },
            {
              "id": "year",
              "label": { 
                "en": "Year",
                "nl": "Jaar" }
            },
            {
              "id": "never",
              "label": { 
                "en": "Never",
                "nl": "Nooit" }
            }
          ],
          "value": "day",
          "hint": {
            "en": "The minimum/maximum values will be reset on every new period. The values can also be reset at any time via a flow.",
            "nl": "De minimum/maximum waarden worden iedere nieuwe periode gereset. De waarden kunnen ook op ieder moment worden gereset via een flow."
          }
        }
      ]
    },
    {
      "type": "group",
      "label": {
        "en": "Monetary value",
        "nl": "Geldwaarde"
      },
      "children": [
        {
          "id": "currency",
          "type": "text",
          "label": {
            "en": "Currency unit",
            "nl": "Geldeenheid"
          },
          "value": "¤",
          "hint": {
            "en": "The unit displayed as currency, e.g. €, £, EUR, SER, NOK, DKK, CHF. Leave empty to use the default ¤.",
            "nl": "De weergegeven eenheid voor geld, bijv. €, £, EUR, SER, NOK, DKK, CHF. Laat leeg om de standaard ¤ te gebruiken."
          }
        },
        {
          "id": "decimals",
          "type": "number",
          "label": {
            "en": "Currency decimals",
            "nl": "Geld decimalen"
          },
          "value": 2,
          "min": 0,
          "max": 8,
          "hint": {
            "en": "The number of decimals to use for monetary value.",
            "nl": "Het aantal decimalen voor geldwaarde."
          }
        },
        {
          "id": "tariff",
          "type": "number",
          "label": {
            "en": "Actual tariff per kWh",
            "nl": "Actueel tarief per kWh"
          },
          "value": 0.25,
          "decimals": 8,
          "hint": {
            "en": "The tariff is used to calculate the monetary value. It can be dynamically changed via a flow.",
            "nl": "Het tarief wordt gebruikt om de geldwaarde te berekenen. Het kan dynamisch worden aangepast via een flow."
          }
        },
        {
          "id": "tariff_via_flow",
          "type": "checkbox",
          "label": {
            "en": "Tariff via flow",
            "nl": "Tarief via flow"
          },
          "value": true,
          "hint": {
            "en": "Include this device when setting a new tariff via flow.",
            "nl": "Dit apparaat meenemen bij het instellen van een nieuw tarief via flow."
          }
        },
        {
          "id": "meter_money_this_day",
          "type": "number",
          "label": {
            "en": "Monetary value of this day",
            "nl": "Geldwaarde van deze dag"
          },
          "value": 0,
          "decimals": 4,
          "hint": {
            "en": "Actual monetary value. It is automatically updated.",
            "nl": "Actuele gelwaarde. Wordt automatisch geupdated."
          }
        },
        {
          "id": "meter_money_this_month",
          "type": "number",
          "label": {
            "en": "Monetary value of this month",
            "nl": "Geldwaarde van deze maand"
          },
          "value": 0,
          "decimals": 4,
          "hint": {
            "en": "Actual monetary value. It is automatically updated.",
            "nl": "Actuele gelwaarde. Wordt automatisch geupdated."
          }
        },
        {
          "id": "meter_money_this_year",
          "type": "number",
          "label": {
            "en": "Monetary value of this year",
            "nl": "Geldwaarde van dit jaar"
          },
          "value": 0,
          "decimals": 4,
          "hint": {
            "en": "Actual monetary value. It is automatically updated.",
            "nl": "Actuele gelwaarde. Wordt automatisch geupdated."
          }
        },
        {
          "id": "meter_money_last_day",
          "type": "number",
          "label": {
            "en": "Monetary value prev. day",
            "nl": "Geldwaarde van vorige dag"
          },
          "value": 0,
          "decimals": 4,
          "hint": {
            "en": "Monetary value of the previous day. It is automatically updated.",
            "nl": "Gelwaarde van de vorige dag. Wordt automatisch geupdated."
          }
        },
        {
          "id": "meter_money_last_month",
          "type": "number",
          "label": {
            "en": "Monetary value prev. month",
            "nl": "Geldwaarde van vorige maand"
          },
          "value": 0,
          "decimals": 4,
          "hint": {
            "en": "Monetary value of the previous month. It is automatically updated.",
            "nl": "Gelwaarde van de vorige maand. Wordt automatisch geupdated."
          }
        },
        {
          "id": "meter_money_last_year",
          "type": "number",
          "label": {
            "en": "Monetary value prev. year",
            "nl": "Geldwaarde van vorig jaar"
          },
          "value": 0,
          "decimals": 4,
          "hint": {
            "en": "Monetary value of the previous year. It is automatically updated.",
            "nl": "Gelwaarde van het vorige jaar. Wordt automatisch geupdated."
          }
        }
      ]
    }
  ],
  "platforms": [
    "local"
  ]
}